<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="author" content="(C) 2012 Mark Constable (AGPLv3)">
    <title>Markup</title>
    <style>

/* resetus maximus */

* {
  background-color: inherit;
  color: inherit;
  border: none;
  font-family: Arial, sans-serif;
  font-size: 100%;
  line-height: 160%;
  margin: 0;
  outline: none;
  padding: 0;
}

html {
  height: 100%;
  width: 100%;
}

body {
  background-color: #DFDFDF;
  color: #2F2F2F;
  margin: 2.5em auto;
  overflow-y: scroll;
  width: 54em;

  font-family: Arial, sans-serif;
  font-size: 100%;
  line-height: 160%;
}

article, aside, footer, header, hgroup, nav, section {
  display: block;
}

h1 { font-size: 200%; }
h2 { font-size: 150%; }
h3 { font-size: 120%; }
h4 { font-size: 100%; }
h5 { font-size: 90%; }
h6 { font-size: 75%; }

h2, h3, h4, h5, h6 {
  margin-top: 1em;
}

h1 {
  line-height: 100%;
}

h2 {
  border-bottom-color: #CFCFCF;
  border-bottom-style: solid;
  border-bottom-width: 0.05em;
}

h6 {
  color: #7F7F7F;
}

p, hr, ul, ol, blockquote, pre {
  margin: 0.5em 0em 1em 0em;
}

ul, ol, blockquote {
  margin-left: 1.5em;
}

blockquote p {
  color: #5F5F5F;
  font-family: "Georgia", serif;
  font-style: italic;
}

code {
  font-family: monospace;
  font-weight: bold;
}

a {
  color: #007FFF;
  text-decoration: none;
}

a:hover {
  color: #DF0000;
}

textarea {
  background-color: #FFFFFF;
  font-family: monospace;
  line-height: 160%;
  height: 100%;
  width: 100%;
}

pre {
  background-color: #F7F7F7;
  border-radius: 0.3em;
  border-color: #CFCFCF;
  border-style: solid;
  border-width: 0.075em;
  color: #2F2F2F;
  font-family: monospace;
  overflow: auto;
  padding: 0.5em 1em;

  -webkit-box-shadow: 0 0.2em 0.5em rgba(0, 0, 0, 0.5);
  -moz-box-shadow: 0 0.2em 0.5em rgba(0, 0, 0, 0.5);
  box-shadow: 0 0.2em 0.5em rgba(0, 0, 0, 0.5);

  -webkit-transition: all 0.5s ease-in-out;
  -moz-transition: all 0.5s ease-in-out;
  -ms-transition: all 0.5s ease-in-out;
  -o-transition: all 0.5s ease-in-out;
  transition: all 0.5s ease-in-out;
}

pre:hover, #editor-panel:hover {
  -webkit-box-shadow: 0.5em 0.5em 0.5em rgba(0, 0, 0, 0.5);
  -moz-box-shadow: 0.5em 0.5em 0.5em rgba(0, 0, 0, 0.5);
  box-shadow: 0.5em 0.5em 0.5em rgba(0, 0, 0, 0.5);
}

hr {
  border-bottom: 0.075em solid #CFCFCF;
}

nav {
  padding: 0.65em 0em;
  text-align: center;
}

nav a {
  background-color: #DFDFDF;
  border-color: #CFCFCF;
  border-style: solid;
  border-width: 0.09em;
  border-bottom-color: #BFBFBF;
  border-radius: 0.3em;
  color: #1F1F1F;
  font-size: 75%;
  font-weight: bold;
  padding: 0.5em 1em;
  text-shadow: 0 0.075em 0 #FFFFFF;

  background: -webkit-linear-gradient(top, #F7F7F7, #D7D7D7);
  background: -moz-linear-gradient(top, #F7F7F7, #D7D7D7);
  background: linear-gradient(top, #F7F7F7, #D7D7D7);

  -webkit-box-shadow: 0 0.09em 0.09em #FFFFFF inset;
  -moz-box-shadow: 0 0.09em 0.09em #FFFFFF inset;
  box-shadow: 0 0.09em 0.09em #FFFFFF inset;
}

nav a:hover {
  background-color: #CFCFCF;
  border-color: #3F7FBF;
  border-bottom-color: #003F7F;
  color: #FFFFFF;
  text-shadow: 0 -0.075em 0 #000000;

  background: -webkit-linear-gradient(top, #5F9FDF, #1F5F8F);
  background: -moz-linear-gradient(top, #5F9FDF, #1F5F8F);
  background: linear-gradient(top, #5F9FDF, #1F5F8F);

  -webkit-box-shadow: 0 0.09em 0.09em #7FBFEF inset;
  -moz-box-shadow: 0 0.09em 0.09em #7FBFEF inset;
  box-shadow: 0 0.09em 0.09em #7FBFEF inset;
}

nav a:active {
  background: #3F7FCF;

  -webkit-box-shadow: inset 0 0.2em 0.5em rgba(0, 0, 0, 1);
  -moz-box-shadow: inset 0 0.2em 0.5em rgba(0, 0, 0, 1);
  box-shadow: inset 0 0.2em 0.5em rgba(0, 0, 0, 1);
}

footer {
  text-align: center;
}

footer a {
  color: #7F7F7F;
  font-family: "Georgia", serif;
  font-size: 75%;
  font-style: italic;
}

#top {
  background-color: #3F3F3F;
  left: 0;
  height: 3em;
  position: fixed;
  top: 0;
  width: 100%;
  z-index: 99;

  background: -webkit-linear-gradient(top, #5F5F5F, #1F1F1F);
  background: -moz-linear-gradient(top, #5F5F5F, #1F1F1F);
  background: linear-gradient(top, #5F5F5F, #1F1F1F);

  -webkit-box-shadow: 0 0 1em rgba(0, 0, 0, 1);
  -moz-box-shadow: 0 0 1em rgba(0, 0, 0, 1);
  box-shadow: 0 0 1em rgba(0, 0, 0, 1);
}

#top nav {
  text-align: right;
  padding-right: 0.5em;
}

#top nav a {
  background-color: #4F4F4F;
  color: #DFDFDF;
  border-color: #3F3F3F;
  text-shadow: 0 -0.09em 0 #000000;

  background: -webkit-linear-gradient(top, #5F5F5F, #1F1F1F);
  background: -moz-linear-gradient(top, #5F5F5F, #1F1F1F);
  background: linear-gradient(top, #5F5F5F, #1F1F1F);

  -webkit-box-shadow: 0 0.09em 0.09em #7F7F7F inset;
  -moz-box-shadow: 0 0.09em 0.09em #7F7F7F inset;
  box-shadow: 0 0.09em 0.09em #7F7F7F inset;
}

#top nav a:hover {
  background-color: #5F5F5F;

  background: -webkit-linear-gradient(top, #1F1F1F, #5F5F5F);
  background: -moz-linear-gradient(top, #1F1F1F, #5F5F5F);
  background: linear-gradient(top, #1F1F1F, #5F5F5F);
}

#top nav a:active {
  background: #3F3F3F;

  -webkit-box-shadow: inset 0 0.2em 0.5em rgba(0, 0, 0, 1);
  -moz-box-shadow: inset 0 0.2em 0.5em rgba(0, 0, 0, 1);
  box-shadow: inset 0 0.2em 0.5em rgba(0, 0, 0, 1);
}

#logo {
  display: block;
  position: absolute;
  width: 6em;
  color: #7F7F7F;
  font-size: 2.5em;
  font-weight: bold;
  line-height: 100%;
  padding-left: 1.75em;
  padding-bottom: 0.15em;
  text-shadow: 0 -0.025em 0.025em #BFBFBF, 0 0.025em 0.025em #000000;
  background: left no-repeat url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/Pgo8IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iCiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4KPCEtLSBDb3B5cmlnaHQgKEMpIDIwMTEgTWFyayBDb25zdGFibGUgKG1jQG5vZGFsaXR5Lm9yZykgTGljZW5zZTpBR1BMdjMgLS0+CjxzdmcgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIgogdmlld0JveD0iMCAwIDMyIDE4IgogcHJlc2VydmVBc3BlY3RSYXRpbz0ieE1pbllNaW4gbWVldCIKIGlkPSJmYXZpY29uc3ZnIj4KICA8cG9seWdvbiBwb2ludHM9IjIxLDE3IDIxLDEgIDI5LDkiIHN0eWxlPSJmaWxsOiNkZjAwMDA7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjAuMTtzdHJva2UtbGluZWpvaW46cm91bmQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC01LDApIiAvPgogIDxwb2x5Z29uIHBvaW50cz0iMjMsOSAgMTUsMTcgMTUsMSIgc3R5bGU9ImZpbGw6I2ZmYmYwMDtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MC4xO3N0cm9rZS1saW5lam9pbjpyb3VuZCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTMsMCkiIC8+CiAgPHBvbHlnb24gcG9pbnRzPSIxNyw5ICAgOSwxNyAgOSwxIiBzdHlsZT0iZmlsbDojMWY3ZmRmO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDowLjE7c3Ryb2tlLWxpbmVqb2luOnJvdW5kIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMSwwKSIgLz4KPC9zdmc+Cg==);
}

#mid {
  position: relative;
  top: -24em;
  z-index: 1;

  -webkit-transition: all 1s ease-in-out;
  -moz-transition: all 1s ease-in-out;
  -ms-transition: all 1s ease-in-out;
  -o-transition: all 1s ease-in-out;
  transition: all 1s ease-in-out;
}

#editor-panel {
  background-color: #FFFFFF;
  border-color: #CFCFCF;
  border-style: solid;
  border-width: 0.075em;
  border-radius: 0.6em;
  padding: 0.5em 1.5em;
  margin-bottom: 1em;
  height: 22em;

  -webkit-box-shadow: 0 0.2em 0.5em rgba(0, 0, 0, 0.5);
  -moz-box-shadow: 0 0.2em 0.5em rgba(0, 0, 0, 0.5);
  box-shadow: 0 0.2em 0.5em rgba(0, 0, 0, 0.5);

  -webkit-transition: all 0.5s ease-in-out;
  -moz-transition: all 0.5s ease-in-out;
  -ms-transition: all 0.5s ease-in-out;
  -o-transition: all 0.5s ease-in-out;
  transition: all 0.5s ease-in-out;
}

#editor-panel > div {
  height: 19em;
}

#view {
  min-height: 16em;
  background-color: #FFFFFF;
  border-color: #CFCFCF;
  border-style: solid;
  border-width: 0.075em;
  border-radius: 0.6em;
  box-shadow: 0 0.2em 0.5em rgba(0, 0, 0, 0.5);
  padding: 1em 1.5em;
  margin-bottom: 1em;
}

#mid.show { top: 0; }
.large { font-size: 140%; }
.dark { background-color: #3F3F3F; }
#top nav a.current, nav a.current { color: #EF0000; }

    </style>
    <script>

function $(id) {
  return document.getElementById(id);
}

function html_encode(str) {
  return str.replace(/[&<>"']/g, function($0) {
    return "&" + {"&":"amp", "<":"lt", ">":"gt", '"':"quot", "'":"#39"}[$0] + ";";
  });
}

function markup() {
  $('view').innerHTML = marked($('editor').value)
}

function html() {
  $('view').innerHTML = '<textarea>'+
    html_encode(marked($('editor').value)) +'</textarea>';
}

function json() {
  $('view').innerHTML = '<textarea>'+
    JSON.stringify(marked.lexer($('editor').value), null, 2) +'</textarea>';
}

function edit() {
  alert($('view').innerHTML);
}

function help() {
  $('view').innerHTML = '<textarea>'+
    $('help').innerHTML.toString() +'</textarea>';
}

function clearit() {
  $('view').innerHTML = '';
  $('editor').value = '# Hello World\n';
  localStorage.removeItem('markup');
}

function save() {
  localStorage.setItem('markup', $('editor').value);
}

function editor(me) {
  $('mid').classList.toggle('show');
  me.classList.toggle('current');
}

function large(me) {
  document.body.classList.toggle('large');
  me.classList.toggle('current');
}

function dark(me) {
  document.body.classList.toggle('dark');
  me.classList.toggle('current');
}

function get(url, target) {
  target = target || 'view';
  script = "";
  var x = new XMLHttpRequest();
  x.onreadystatechange = function() {
    if (x.readyState == 4 && x.status == 200) {
      $(target).innerHTML = url.match(/\.md$/)
        ? marked(x.responseText) : x.responseText;
      runScripts($(target));
    }
  }
  x.open('GET', url, true); x.send();
}

function runScripts(e) {
  if (e.nodeType != 1) return;
  if (e.tagName.toLowerCase() == 'script') {
    eval(e.text);
  } else {
    var n = e.firstChild;
    while (n) {
      if (n.nodeType == 1) runScripts(n);
      n = n.nextSibling;
    }
  }
}

window.onload = function() {
  if (localStorage.getItem('markup')) {
    $('editor').value = localStorage.getItem('markup');
  }
  get('README.md');
}

    </script>
   </head>
  <body class="">
    <header id="top">
      <a id="logo" href="/">Markup</a>
      <nav>
        <a href="" onclick="alert('TODO'); return false;">Menu&nbsp;&nbsp;&#9654;</a>
        <a href="" onclick="editor(this); return false;">Editor</a>
        <a href="" onclick="get('/lib/htm/help.htm'); return false;">Help</a>
        <a href="" onclick="large(this); return false;">Large</a>
        <a href="" onclick="dark(this); return false;">Dark</a>
        <a href="https://github.com/markc/markup">Github</a>
      </nav>
    </header>
    <div id="mid">
      <section id="editor-panel">
        <nav>
          <a href="" onclick="markup(); return false;">Markup</a>
          <a href="" onclick="html(); return false;">HTML</a>
          <a href="" onclick="json(); return false;">JSON</a>
          <a href="" onclick="save(); return false;">Save</a>
          <a href="" onclick="clearit(); return false;">Clear</a>
        </nav>
        <div>
          <textarea id="editor"># Hello World</textarea>
        </div>
      </section>
      <section id="view">
      </section>
    </div>
    <footer>
      <a href="http://validator.w3.org/check?uri=referer" title="Validate This Page">
        Copyright &copy; 2007-2012 Mark Constable (AGPLv3)
      </a>
    </footer>
    <pre id="help" style="display:none">

Markdown Help
=============

Paragraphs of text separated by blank lines are enclosed in `p`
tags but the underlying text remains with the original line
breaks. Click on this view area and use Ctrl-A and Ctrl-C to
copy this text then Ctrl-V in the editor to markup and render
this help text.

# h1 header tag
## h2 header tag
### h3 header tag
###### h6 header tag

*Italic text and * _more italic text_

**Bold text and ** __more Bold text__

*Italic **and** bold can be combined*

* Item 1 of an unordered list
* Item 2
  - Item 2a
  - Item 2b

*   **Item 3**

    If you indent extra paragraphs by 3 or 4 spaces then this
    text will be wrapped by `p` tags within the list item.

    Lists need something that starts at the begining of a new
    line to separate a list from whatever follows so we'll use
    a horizontal rule.

----

1. Item 1 of an ordered list
2. Item 2
    - Indented four spaces.
        + indented eight spaces.
    - Four spaces again.
3. Item 3
   * Item 3a
   * Item 3b

This plain http://google.com link is not marked up but this
inline [Google](http://google.com "Search The Web") link is. Here
is a reference-style link; [Check out GitHub][1] where the link
definition can be anywhere on the page but must be unique. If
there is no trailing link reference then the link tag itself can
be used for the reference, for example, [Youtube!] rocks. Links
and email addresses can also be enclosed in angle brackets to
provide simple inline markup.

  [1]: https://github.com/
  [Youtube!]: http://www.youtube.com/

Here is an image: ![This is Alt text](/favicon.ico "favicon.ico")

> Blockquotes use traditional email style angle brackets and can
> **include markup**.
>
> > You can even have nested blockquotes.

This is an example of `inline code` using backticks.

    // Code is just text indented by 4 spaces
    // Any markdown text or HTML will remain untouched

    function hello(str) {
      return "**Hello** " + (str||"_World_");
    }

And finally, if you need to do something that Markdown can't
handle then you can always just use HTML, however, block element
begin and end tags cannot be indented and must be separated by
blank lines. Span-level HTML can include markup but any
block-level markup will be ignored.

    </pre>
    <script src="https://raw.github.com/chjj/marked/master/lib/marked.js"></script>
  </body>
</html>
