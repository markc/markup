<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta content="width=device-width,initial-scale=1.0" name="viewport">
    <meta content="(C) 2012 Mark Constable (AGPLv3)" name="author">
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300' rel='stylesheet' type='text/css'>
    <title id="title">Markup</title>
    <style>

/* layout, start with resetus maximus */

* {
  border: none;
  font-family: "Open Sans Condensed", sans-serif;
  font-size: 100%;
  line-height: 160%;
  margin: 0em;
  outline: none;
  padding: 0em;
  -webkit-transition: all 0.5s ease-in-out;
  -moz-transition: all 0.5s ease-in-out;
  -ms-transition: all 0.5s ease-in-out;
  -o-transition: all 0.5s ease-in-out;
  transition: all 0.5s ease-in-out;
}

html {
  height: 100%;
  width: 100%;
}

body {
  margin: 2.6em auto;
  overflow-y: scroll;
  width: 54em;
}

h1 { font-size: 160%; }
h2 { font-size: 130%; }
h3 { font-size: 110%; }
h4 { font-size: 100%; }
h5 { font-size: 90%; }
h6 { font-size: 75%; }

h2, h3, h4, h5, h6 {
  margin-top: 1em;
}

h1 {
  line-height: 100%;
}

h2 {
  border-bottom-style: solid;
  border-bottom-width: 0.05em;
}

p, hr, ul, ol, blockquote, pre, #area {
  margin: 0.5em 0em 1em 0em;
}

ul, ol, blockquote {
  margin-left: 1.5em;
}

blockquote p {
  font-family: "Georgia", serif;
  font-style: italic;
}

code, tt {
  border-style: solid;
  border-radius: 0.3em;
  border-width: 0.075em;
  font-family: monospace;
  margin: 0 0.1em;
  padding: 0 0.3em;
}

a {
  text-decoration: none;
}

pre, #area {
  border-radius: 0.3em;
  border-style: solid;
  border-width: 0.075em;
  font-family: monospace;
  overflow: auto;
  padding: 0.5em 1em;
}

pre > code {
  border: none;
  margin: 0em;
  padding: 0em;
}

hr {
  border-bottom-style: solid;
  border-bottom-width: 0.075em;
}

nav {
  margin: 0.675em 0em;
  text-align: center;
}

nav a {
  border-style: solid;
  border-width: 0.09em;
  border-radius: 0.3em;
  font-size: 75%;
  padding: 0.5em 1em;
}

footer {
  text-align: center;
}

footer a {
  font-family: "Georgia", serif;
  font-size: 75%;
  font-style: italic;
}

#top {
  left: 0;
  position: fixed;
  top: 0;
  width: 100%;
}

#top nav {
  text-align: right;
  padding-right: 0.5em;
}

#logo {
  display: inline-block;
  float: left;
  line-height: 100%;
}

#logo img {
  height: 3em;
  vertical-align: top;
}

#logo span {
  font-size: 2.7em;
  font-weight: bold;
  line-height: 100%;
}

#mid {
  min-height: 16em;
  border-style: solid;
  border-width: 0.075em;
  border-radius: 0.6em;
  padding: 1em 1.5em;
  margin-bottom: 1em;
}

#text {
  font-family: monospace;
  height: 10em;
  margin-top: 0.5em;
  width: 100%;
}

.hidden { display: none; }

/* colors */

body {
  background-color: #DFDFDF;
  color: #2F2F2F;
}

h2 {
  border-bottom-color: #CFCFCF;
}

blockquote p {
  color: #5F5F5F;
}

code, tt {
  border-color: #EBEBEB;
  background-color: #F7F7F7;
}

a {
  color: #007FFF;
}

a:hover {
  color: #DF0000;
}

#text {
  background-color: #F7F7F7;
}

pre, #area {
  background-color: #F7F7F7;
  border-radius: 0.3em;
  border-color: #CFCFCF;
  color: #2F2F2F;
  -webkit-box-shadow: 0 0.2em 0.5em rgba(0, 0, 0, 0.5);
  -moz-box-shadow: 0 0.2em 0.5em rgba(0, 0, 0, 0.5);
  box-shadow: 0 0.2em 0.5em rgba(0, 0, 0, 0.5);
}

pre:hover, #area:hover {
  -webkit-box-shadow: 0.5em 0.5em 0.5em rgba(0, 0, 0, 0.5);
  -moz-box-shadow: 0.5em 0.5em 0.5em rgba(0, 0, 0, 0.5);
  box-shadow: 0.5em 0.5em 0.5em rgba(0, 0, 0, 0.5);
}

hr {
  border-bottom-color: #CFCFCF;
}

nav a {
  background-color: #DFDFDF;
  border-color: #CFCFCF;
  border-bottom-color: #BFBFBF;
  color: #1F1F1F;
  text-shadow: 0 0.075em 0 #FFFFFF;
  background: -webkit-linear-gradient(top, #F7F7F7, #D7D7D7);
  background: -moz-linear-gradient(top, #F7F7F7, #D7D7D7);
  background: linear-gradient(top, #F7F7F7, #D7D7D7);
  -webkit-box-shadow: 0 0.09em 0.09em #FFFFFF inset;
  -moz-box-shadow: 0 0.09em 0.09em #FFFFFF inset;
  box-shadow: 0 0.09em 0.09em #FFFFFF inset;
}

nav a:hover {
  background: #CFCFCF;
}

nav a:active {
  background: #3F7FCF;
  -webkit-box-shadow: inset 0 0.2em 0.5em rgba(0, 0, 0, 1);
  -moz-box-shadow: inset 0 0.2em 0.5em rgba(0, 0, 0, 1);
  box-shadow: inset 0 0.2em 0.5em rgba(0, 0, 0, 1);
}

footer a {
  color: #7F7F7F;
}

#top {
  background-color: #3F3F3F;
  background: -webkit-linear-gradient(top, #5F5F5F, #1F1F1F);
  background: -moz-linear-gradient(top, #5F5F5F, #1F1F1F);
  background: linear-gradient(top, #5F5F5F, #1F1F1F);
  -webkit-box-shadow: 0 0 1em rgba(0, 0, 0, 1);
  -moz-box-shadow: 0 0 1em rgba(0, 0, 0, 1);
  box-shadow: 0 0 1em rgba(0, 0, 0, 1);
}

#top nav a {
  background-color: #4F4F4F;
  color: #DFDFDF;
  border-color: #3F3F3F;
  text-shadow: 0 -0.09em 0 #000000;
  background: -webkit-linear-gradient(top, #5F5F5F, #1F1F1F);
  background: -moz-linear-gradient(top, #5F5F5F, #1F1F1F);
  background: linear-gradient(top, #5F5F5F, #1F1F1F);
  -webkit-box-shadow: 0 0.09em 0.09em #7F7F7F inset;
  -moz-box-shadow: 0 0.09em 0.09em #7F7F7F inset;
  box-shadow: 0 0.09em 0.09em #7F7F7F inset;
}

#top nav a:hover {
  background: #2F2F2F;
}

#top nav a:active {
  background: #3F3F3F;
  -webkit-box-shadow: inset 0 0.2em 0.5em rgba(0, 0, 0, 1);
  -moz-box-shadow: inset 0 0.2em 0.5em rgba(0, 0, 0, 1);
  box-shadow: inset 0 0.2em 0.5em rgba(0, 0, 0, 1);
}

#logo span {
  color: #7F7F7F;
  text-shadow: 0 -0.025em 0.025em #BFBFBF, 0 0.025em 0.025em #000000;
}

#mid {
  background-color: #FFFFFF;
  border-color: #CFCFCF;
  box-shadow: 0 0.2em 0.5em rgba(0, 0, 0, 0.5);
}

#top nav a.current, nav a.current {
  color: #EF0000;
}

#top nav#editor_menu, #top nav#states_menu {
  text-align: center;
  clear: both;
  position: absolute;
  width: 8em;
  top: 2.5em;
  right: 0em;
}

#top nav#editor_menu a, #top nav#states_menu a {
  background-color: #2F2F2F;
  margin: 0.25em 0;
  display: block;
}

img.sml {
  float: right;
  border: 0.25em solid #7F7F7F;
  border-radius: 0.25em;
  margin-left: 0.5em;
  box-shadow: 0 0.2em 0.5em rgba(0, 0, 0, 0.75);
}
  </style>
    <script>

window.onload = function() {

  // globals

  var current_url = '';

  // support functions

  var id = function(id) { return document.getElementById(id); };

  var html_encode = function(str) {
    return str.replace(/[&<>"']/g, function($0) {
      return "&" + {"&":"amp", "<":"lt", ">":"gt", '"':"quot", "'":"#39"}[$0] + ";";
    });
  };

  var htm = function(str, target) {
    id('text').value = str;
    var json = /\s*<json>\s*([\s\S]*)\s*<\/json>\s*/mgi.exec(str);
    if (json instanceof Array && typeof json[1] === 'string') {
      var text = /<json>[\s\S]*<\/json>\s*([\s\S]*)\s*$/mgi.exec(str);
      if (text instanceof Array && typeof text[1] === 'string') {
        id(target).innerHTML = marked(text[1]);
      }
      var o = JSON.parse(json[1]);
      Object.keys(o).forEach(function(k) { id(k).innerHTML = o[k]; });
    } else {
      id(target).innerHTML = marked(str);
    }
  }

  var get = function(url, target) {
    target = target || 'view';
    var cached = localStorage.getItem(url);
    if (cached) {
      current_url = url;
      htm(cached, target);
      return false;
    } else {
      var xhr = new XMLHttpRequest();
      xhr.onreadystatechange = function() {
        if (xhr.readyState == 4 && xhr.status == 200) {
          current_url = url;
          localStorage.setItem(url, xhr.responseText);
          htm(xhr.responseText, target);
          return false;
        }
      }
      xhr.open('GET', url, true); xhr.send();
    }
  }

  window.onpopstate = function(e) {
    get('lib/htm' + location.pathname + '.htm');
  }

  // link event handlers

  id('readme').onclick = function() {
    get('README.md');
    return false;
  };

  id('help').onclick = function() {
    id('view').innerHTML = '<pre>' +
      id('markdown').innerHTML.toString() + '</pre>';
    return false;
  };

  id('editor').onclick = function() {
    if (id('states').classList.contains('current'))
      id('states').classList.remove('current');
    if (!id('states_menu').classList.contains('hidden'))
      id('states_menu').classList.add('hidden');
    id('editor').classList.toggle('current');
    id('editor_menu').classList.toggle('hidden');
    return false;
  };

  id('states').onclick = function() {
    if (id('editor').classList.contains('current'))
      id('editor').classList.remove('current');
    if (!id('editor_menu').classList.contains('hidden'))
      id('editor_menu').classList.add('hidden');
    id('states').classList.toggle('current');
    id('states_menu').classList.toggle('hidden');
    return false;
  };

  id('states_menu').onclick = function(e) {
    var p = e.target.pathname;
    document.title = p;
    history.pushState({id:p.replace(/(\/|\.|-)/g,'_')}, '', p);
    get('lib/htm' + p + '.htm');
    return false;
  };

  id('edit').onclick = function() {
    id('area').classList.toggle('hidden');
    id('edit').classList.toggle('current');
    return false;
  };

  id('show').onclick = function () {
    htm(id('text').value, 'view');
    return false;
  };

  id('html').onclick = function() {
    id('view').innerHTML = '<pre>' +
      html_encode(marked(id('text').value)) + '</pre>';
    return false;
  };

  id('json').onclick = function() {
    id('view').innerHTML = '<pre>' +
      JSON.stringify(marked.lexer(id('text').value), null, 2) + '</pre>';
    return false;
  };

  id('store').onclick = function() {
    localStorage.setItem(current_url, id('text').value);
    htm(id('text').value, 'view');
    return false;
  };

  id('remove').onclick = function () {
    if (localStorage.getItem(current_url))
      localStorage.removeItem(current_url);
    current_url = '';
    id('text').value = '';
    id('view').innerHTML = '';
    id('area').classList.add('hidden');
    id('edit').classList.remove('current');
    return false;
  };

  id('print').onclick = function () {
    if (localStorage.length) {
      var l = localStorage.length;
      var a = ['<pre>'];
      for(var i=0; i < l; i++) {
        a.push('\n' + localStorage.key(i));
        a.push('----------------------------------------------------------------');
        a.push(html_encode(localStorage.getItem(localStorage.key(i))));
      }
      id('view').innerHTML = a.join("\n") + '</pre>';
    }
    return false;
  };

  id('flush').onclick = function () {
    localStorage.clear();
    id('text').value = '';
    id('view').innerHTML = '';
    id('area').classList.add('hidden');
    id('edit').classList.remove('current');
    get('README.md');
    return false;
  };

  // live code active on page (re)load

  if (localStorage.getItem('README.md')) {
    id('text').value = localStorage.getItem('README.md');
    id('view').innerHTML = marked(localStorage.getItem('README.md'));
  } else {
    get('README.md');
  }

};
    </script>
<!--[if lt IE 9]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
  </head>
  <body>
    <header id="top">
      <a id="logo" href="">
        <img id="logo_img" alt="Markup LOGO" src="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgdmlld0JveD0iMCAwIDY0IDM2IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJ4TWluWU1pbiBtZWV0IiBpZD0ibWFya2NzdmciPjxwb2x5Z29uIHBvaW50cz0iMSwyNyA2MywyNyAzMiwzNSIgc3R5bGU9ImZpbGw6I2VmMDBlZjtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MC4yO3N0cm9rZS1saW5lam9pbjpyb3VuZCIvPjxwb2x5Z29uIHBvaW50cz0iMywyMSA2MSwyMSAzMiwzNSIgc3R5bGU9ImZpbGw6IzdmMWZmZjtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MC4yO3N0cm9rZS1saW5lam9pbjpyb3VuZCIvPjxwb2x5Z29uIHBvaW50cz0iNiwxNSA1OCwxNSAzMiwzNSIgc3R5bGU9ImZpbGw6IzAwN2ZmZjtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MC4yO3N0cm9rZS1saW5lam9pbjpyb3VuZCIvPjxwb2x5Z29uIHBvaW50cz0iMTAsMTAgNTQsMTAgMzIsMzUiIHN0eWxlPSJmaWxsOiMwMGJmMDA7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjAuMjtzdHJva2UtbGluZWpvaW46cm91bmQiLz48cG9seWdvbiBwb2ludHM9IjE1LDYgNDksNiAzMiwzNSIgc3R5bGU9ImZpbGw6I2ZmY2YwMDtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MC4yO3N0cm9rZS1saW5lam9pbjpyb3VuZCIvPjxwb2x5Z29uIHBvaW50cz0iMjEsMyA0MywzIDMyLDM1IiBzdHlsZT0iZmlsbDojZmY4ZjAwO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDowLjI7c3Ryb2tlLWxpbmVqb2luOnJvdW5kIi8+PHBvbHlnb24gcG9pbnRzPSIyOCwxIDM2LDEgMzIsMzUiIHN0eWxlPSJmaWxsOiNmZjAwMDA7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjAuMjtzdHJva2UtbGluZWpvaW46cm91bmQiLz48L3N2Zz4=">
        <span id="logo_txt">Markup</span>
      </a>
      <nav id="nav">
        </a>
        <a href="" id="readme">README</a>
        <a href="" id="editor">EDITOR</a>
        <a href="" id="states">STATES</a>
        <a href="https://github.com/markc/markup">SOURCE</a>
      </nav>
      <nav id="editor_menu" class="hidden">
        <a href="" id="edit">EDIT</a>
        <a href="" id="show">SHOW</a>
        <a href="" id="html">HTML</a>
        <a href="" id="json">JSON</a>
        <a href="" id="help">HELP</a>
        <a href="" id="store">STORE</a>
        <a href="" id="remove">REMOVE</a>
        <a href="" id="print">PRINT</a>
        <a href="" id="flush">FLUSH</a>
      </nav>
      <nav id="states_menu" class="hidden">
        <a href="1">New South Wales</a>
        <a href="2">Queensland</a>
        <a href="3">South Australia</a>
        <a href="4">Tasmania</a>
        <a href="5">Victoria</a>
        <a href="6">Western Australia</a>
      </nav>
    </header>
    <section id="mid">
      <div id="area" class="hidden">
        <textarea id="text"></textarea>
      </div>
      <aside id="sidebar"></aside>
      <div id="view"></div>
    </section>
    <footer id="end">
      <a href="http://validator.w3.org/check?uri=referer" title="Validate This Page">
        Copyright &copy; 2007-2012 Mark Constable (AGPLv3)
      </a>
    </footer>
    <pre id="markdown" class="hidden">
Markdown Help
=============

Paragraphs of text separated by blank lines are enclosed in `p`
tags but the underlying text remains wrapped with the original
line breaks. Copy and paste this markdown text into the editor
to see it marked up.

# h1 header tag
## h2 header tag
### h3 header tag
###### h6 header tag

*Italic text and * _more italic text_

**Bold text and ** __more Bold text__

*Italic **and** bold can be combined*

* Item 1 of an unordered list
* Item 2
  - Item 2a
  - Item 2b

*   **Item 3**

    If you indent extra paragraphs by 3 or 4 spaces then this
    text will be wrapped by `p` tags within the list item.

    Lists need something that starts at the begining of a new
    line to separate a list from whatever follows so we'll use
    a horizontal rule.

----

1. Item 1 of an ordered list
2. Item 2
    - Indented four spaces.
        + indented eight spaces.
    - Four spaces again.
3. Item 3
   * Item 3a
   * Item 3b

This plain http://google.com link is not marked up but this
inline [Google](http://google.com "Search The Web") link is. Here
is a reference-style link; [Check out GitHub][1] where the link
definition can be anywhere on the page but must be unique. If
there is no trailing link reference then the link tag itself can
be used for the reference, for example, [Youtube!] rocks. Links
and email addresses can also be enclosed in angle brackets to
provide simple inline markup.

  [1]: https://github.com/
  [Youtube!]: http://www.youtube.com/

Here is an image: ![This is Alt text](/favicon.ico "favicon.ico")

> Blockquotes use traditional email style angle brackets and can
> **include markup**.
>
> > You can even have nested blockquotes.

This is an example of `inline code` using backticks.

    // Code is just text indented by 4 spaces
    // Any markdown text or HTML will remain untouched

    function hello(str) {
      return "**Hello** " + (str||"_World_");
    }

And finally, if you need to do something that Markdown can't
handle then you can always just use HTML, however, block element
begin and end tags cannot be indented and must be separated by
blank lines. Span-level HTML can include markup but any
block-level markup will be ignored.
    </pre>

    <script src="https://raw.github.com/chjj/marked/master/lib/marked.js"></script>
    <!-- <script src="/lib/js/marked.js"></script> -->
  </body>
</html>
